/*********************************************************************************************/
/************************************ BEGIN OF FILE ******************************************/
/*********************************************************************************************/

#ifndef DRIVEPOL_H
#define DRIVEPOL_H

/*********************************************************************************************/
/**************************************** INCLUDES *******************************************/
/*********************************************************************************************/

#include "stm32f4xx.h"

/*********************************************************************************************/
/***************************************** DEFINES *******************************************/
/*********************************************************************************************/

extern TIM_HandleTypeDef htim9;

#define direction_CC()		HAL_GPIO_WritePin(GPIOB,GPIO_PIN_12,GPIO_PIN_SET)
#define direction_CW()		HAL_GPIO_WritePin(GPIOB,GPIO_PIN_13,GPIO_PIN_SET)
#define stopDirection() 	HAL_GPIO_WritePin(GPIOB,GPIO_PIN_12|GPIO_PIN_13,GPIO_PIN_RESET)

#define pwmEn()					HAL_GPIO_WritePin(GPIOA,GPIO_PIN_1,GPIO_PIN_SET)
#define pwmDisable()			HAL_GPIO_WritePin(GPIOA,GPIO_PIN_1,GPIO_PIN_RESET);

#define startPWM()				HAL_TIM_PWM_Start(&htim9, TIM_CHANNEL_1)
#define stopPWM()				HAL_TIM_PWM_Stop(&htim9, TIM_CHANNEL_1)

#define cmdDirectionCC 		0x00
#define cmdDirectionCCW 	0x01
#define cmdDirectionStop 	0xFF

/*********************************************************************************************/
/*********************************** FUNCTION PROTOTYPES *************************************/
/*********************************************************************************************/

void startPolCW (uint8_t speed);
void startPolCC (uint8_t speed);
uint32_t polStatus(void);
void stopPol (void);

#endif /*DRIVEPOL_H_*/

/*********************************************************************************************/
/************************************** END OF FILE ******************************************/
/*********************************************************************************************/
